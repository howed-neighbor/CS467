<!DOCTYPE html>
<html>
	<head>
		<title>datapotato</title>
		<link rel="stylesheet" href="/css/datapotato.css">
	</head>

	<div class="container"> 
        <div class="flex_row_space_between">
            <div>
            	<!--Reloads current page to toggle light/dark theme-->
            	{{#if darkTheme}}<a class="toggleTheme" href="../toggleTheme">â˜½</a>
            	{{else}}<a class="toggleTheme" href="../toggleTheme">â˜¼</a>
            	{{/if}}
                <a href="../">datapotato</a>
                {{#if error}}<span class="text_red">
                {{else}}<span id="header">{{/if}}
                	{{header}}
                </span>
            </div>
            	<!--Displays sign in button, otherwise shows sign out button-->
            	{{#if userName}}
            		<form id="sign_out_form" action="/signOut" method="post">
		            	<input type="submit" value="SIGN OUT"/>
	            	</form>
            	{{else}}
            		<span class="hover" onclick="display_sign_in_form()">SIGN IN</span>
            	{{/if}}
            	
        </div>

        <hr class="light">

        <div class="flex_row_space_between">
            <div class="flex_column">
                <a class="image" href="../"><img id="logo" 
                	{{#if error}}src="../images/datapotato_red.svg"
                		{{else if darkTheme}}src="../images/datapotatoPro_white.svg"
                		{{else}}src="../images/datapotatoPro_green.svg"
                	{{/if}} 
                	width="400px" height="auto"></a>
            </div>
            <div class="flex_column text_align_right">
            	<!--Either shows signed in user or sign in form-->
            	{{#if userName}}
            		<span class="text_grey">userName:{{userName}}<span><br>
            		<button id="pencil" class="" onclick="display_edit_user_data()">âœŽ</button>
            		<span class="text_grey">userData:
            			<span id="userData">{{userData}}</span>
            		</span>
            		<form id="edit_user_data" class="none inline" action="/editUserData" method="post">
            			<input type="hidden" name="userName" value="{{userName}}">
            			<input type="text" name="updatedUserData" size="20" maxlength="30" value="{{userData}}">
            			<input class="submitAsButton" type="submit" value="ðŸ—¹">
            		</form>
            	{{else}}
	            	<form id="sign_in_form" action="/signIn" method="post">
	            		<fieldset>
	            			<legend>Sign In</legend>
		                    <label>
		                        <input type="text" name="userName" size="10" maxlength="10" placeholder="userName" required>
		                    </label><br>
		                    <label>
		                        <input type="text" name="password" size="10" maxlength="20" placeholder="password" required>
		                    </label><br>
		                    <input class="submit" type="submit" value="Go"/>
		               </fieldset>
	            	</form>
	            {{/if}}
    		</div>
    	</div>

        <div class="flex_row_space_between">
            <div class="flex_column">
                <a {{#if injection}}class="selected"{{/if}} href="../injection">1. Injection</a><br>
                <a {{#if brokenAuthentication}}class="selected"{{/if}} href="../brokenAuthentication">2. Broken Authentication</a><br>
                <a {{#if sensitiveDataExposure}}class="selected"{{/if}} href="../sensitiveDataExposure">3. Sensitive Data Exposure</a><br>
                <a {{#if xmlExternalEntities}}class="selected"{{/if}} href="../xmlExternalEntities">4. XML External Entities</a><br>
                <a {{#if brokenAccessControl}}class="selected"{{/if}} href="../brokenAccessControl">5. Broken Access Control</a><br>
                <a {{#if securityMisconfiguration}}class="selected"{{/if}} href="../securityMisconfiguration">6. Security Misconfiguration</a><br>
                <a {{#if crossSiteScripting}}class="selected"{{/if}} href="../crossSiteScripting">7. Cross-Site Scripting</a><br>
                <a {{#if insecureDeserialization}}class="selected"{{/if}} href="../insecureDeserialization">8. Insecure Deserialization</a><br>
                <a {{#if usingComponentsWithKnownVulnerabilities}}class="selected"{{/if}} href="../usingComponentsWithKnownVulnerabilities">9. Using Components with Known Vulnerabilities</a><br>
                <a {{#if insufficientLoggingAndMonitoring}}class="selected"{{/if}} href="../insufficientLoggingAndMonitoring">10. Insufficient Logging & Monitoring</a><br><br>
                <a class="flex_space_above" href="http://flip3.engr.oregonstate.edu:37773/"><span>*Switch to Datapotato (full articles with vulnerabilities)*</span></a>
            </div>
            <div class="flex_column flex_end">
            	<a href="./admin"><span>ADMIN PANEL</span></a>
            </div>
        </div>

        <hr>

		<body {{#if darkTheme}}class="dark"{{/if}}>
			{{{body}}} 
		</body>

		<footer>
			<hr>
			<h3>Code References</h3>
			<sub class="compact">
			<span id="clickToExpand" class="hover" onclick="display_references()">> Click to expand</span><br>
				<span id="references" class="hidden">
				â”œâ”€â”€ body-parser		| "body-parser", http://expressjs.com/en/resources/middleware/body-parser.html<br>
				â”œâ”€â”€ crypto			| "Crypto", https://nodejs.org/api/crypto.html#cryptorandombytessize-callback<br>
				â”œâ”€â”€ expressjs		| "Hello world example", https://expressjs.com/en/starter/hello-world.html<br>
				â”œâ”€â”€ expressjs		| "cs340_sample_nodejs_app", https://github.com/knightsamar/cs340_sample_nodejs_app<br>
				â”œâ”€â”€ expressjs		| OSU CS340 INTRODUCTION TO DATABASES, https://canvas.oregonstate.edu/courses/1825733<br>
				â”œâ”€â”€ expressjs		| "Express error handling", https://expressjs.com/en/guide/error-handling.html<br>
				â”œâ”€â”€ express-session	| "express-session", http://expressjs.com/en/resources/middleware/session.html<br>
				â”œâ”€â”€ handlebars		| "Introduction", https://handlebarsjs.com/guide/<br>
				â”œâ”€â”€ handlebars		| "Express Handlebars", https://www.npmjs.com/package/express-handlebars<br>
				â”œâ”€â”€ handlebars		| "Hello Handlebars", https://eecs.oregonstate.edu/ecampus-video/CS290/core-content/hello-node/hello-handlebars.html<br>
				â”œâ”€â”€ handlebars		| "app.locals", https://expressjs.com/en/api.html#app.locals<br>
				â”œâ”€â”€ JavaScript		| "Element.classList", https://developer.mozilla.org/en-US/docs/Web/API/Element/classList<br>
				â”œâ”€â”€ JavaScript 		| "parseInt()", https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt<br>
				â”œâ”€â”€ MySQL			| "Using Node on the Engineering Servers", https://eecs.oregonstate.edu/ecampus-video/CS290/core-content/tools-and-overview/Using-Node-on-the-Engineering-Servers.html<br>
				â””â”€â”€ Window.prompt 	| "Window.prompt()", https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt<br>
				</span>
			</sub>
		</footer>
	</div>

	<script src="../js/interactions.js"></script>

</html>